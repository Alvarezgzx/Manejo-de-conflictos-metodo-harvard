<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caso Pr√°ctico: M√©todo Harvard de Negociaci√≥n en el Aula</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F7F9FB;
            color: #073B4C;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .timeline-item {
            position: relative;
            padding-bottom: 2rem;
            padding-left: 2.5rem; 
        }
        .timeline-item:not(:last-child) {
            border-left: 2px solid #118AB2;
        }
        .timeline-marker {
            position: absolute;
            left: -0.7rem;
            top: 0;
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 9999px;
            background-color: #FFD166;
            border: 3px solid #118AB2;
        }
        /* Estilos para la barra de progreso del reproductor */
        input[type=range] {
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            cursor: pointer;
            width: 100%;
        }
        input[type=range]::-webkit-slider-runnable-track {
            background: #e5e7eb;
            height: 0.5rem;
            border-radius: 0.5rem;
        }
        input[type=range]::-moz-range-track {
            background: #e5e7eb;
            height: 0.5rem;
            border-radius: 0.5rem;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            margin-top: -4px;
            background-color: #118AB2;
            height: 1.25rem;
            width: 1.25rem;
            border-radius: 9999px;
        }
        input[type=range]::-moz-range-thumb {
            border: none;
            border-radius: 9999px;
            background-color: #118AB2;
            height: 1.25rem;
            width: 1.25rem;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-[#118AB2] text-white text-center p-8 shadow-lg">
        <h1 class="text-4xl md:text-5xl font-black">Resoluci√≥n de Conflictos en el Aula</h1>
        <p class="text-lg md:text-xl mt-2 font-light">Un Caso Pr√°ctico con el M√©todo de Negociaci√≥n de Harvard</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="escenario" class="bg-white rounded-lg shadow-md p-6 mb-12 text-center">
            <h2 class="text-3xl font-bold text-[#073B4C] mb-4">El Conflicto: Tensi√≥n en la Clase de Historia</h2>
            <p class="text-lg mb-4 max-w-3xl mx-auto">
                En una clase de secundaria, el profesor Harrison est√° explicando un tema complejo. Leo, un estudiante, interrumpe constantemente y finalmente grita: "¬°Esto es est√∫pido y no sirve para nada!". Su postura es agresiva y desafiante, creando una tensi√≥n palpable en el sal√≥n. El enfoque tradicional podr√≠a llevar a un castigo directo, pero esto raramente soluciona la ra√≠z del problema.
            </p>
            <div class="bg-red-50 border-l-4 border-[#FF6B6B] p-4 mt-6">
                <p class="font-bold text-[#FF6B6B]">Posici√≥n del estudiante (Leo): "La clase es una p√©rdida de tiempo."</p>
                <p class="font-bold text-[#073B4C] mt-2">Posici√≥n del profesor (Harrison): "El estudiante debe respetar las reglas y no interrumpir."</p>
            </div>
        </section>

        <section id="principios" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8">Los 4 Principios del M√©todo Harvard</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white rounded-lg shadow-md p-6 text-center border-t-4 border-[#06D6A0]">
                    <div class="text-4xl mb-2">‚ë†</div>
                    <h3 class="text-xl font-bold mb-2">Separar a las Personas del Problema</h3>
                    <p class="text-sm">Abordar el problema juntos, no atacarse mutuamente. Fomenta la colaboraci√≥n en lugar de la confrontaci√≥n.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center border-t-4 border-[#FFD166]">
                    <div class="text-4xl mb-2">‚ë°</div>
                    <h3 class="text-xl font-bold mb-2">Centrarse en los Intereses, no en las Posiciones</h3>
                    <p class="text-sm">Explorar las motivaciones, necesidades y miedos subyacentes que impulsan las posturas iniciales de cada parte.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center border-t-4 border-[#FF6B6B]">
                    <div class="text-4xl mb-2">‚ë¢</div>
                    <h3 class="text-xl font-bold mb-2">Generar Opciones de Mutuo Beneficio</h3>
                    <p class="text-sm">Realizar una lluvia de ideas creativas para encontrar soluciones que satisfagan los intereses de ambas partes.</p>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center border-t-4 border-[#073B4C]">
                    <div class="text-4xl mb-2">‚ë£</div>
                    <h3 class="text-xl font-bold mb-2">Insistir en Criterios Objetivos</h3>
                    <p class="text-sm">Basar el acuerdo en principios y est√°ndares justos e independientes de la voluntad de las partes (ej. reglas, normas).</p>
                </div>
            </div>
        </section>

        <section id="aplicacion" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8">Aplicando el M√©todo: Paso a Paso</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-2xl font-bold text-[#118AB2] mb-3">Paso 1: Separar a la Persona del Problema</h3>
                    <p class="mb-4">El profesor Harrison pide a Leo hablar en privado despu√©s de clase. En lugar de decir "Tu comportamiento es inaceptable", dice: "Leo, not√© que est√°s frustrado. Quiero entender qu√© pasa para que la clase funcione para ambos. Estamos t√∫ y yo contra este problema". Este cambio de lenguaje transforma el conflicto de un enfrentamiento a un desaf√≠o colaborativo.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 flex flex-col items-center justify-center h-full">
                    <div class="text-center">
                        <span class="text-5xl">üë®‚Äçüè´</span>
                        <span class="text-2xl mx-4 font-bold text-[#06D6A0]">+</span>
                        <span class="text-5xl">üßë‚Äçüéì</span>
                    </div>
                    <div class="text-5xl my-2 text-[#FF6B6B]">‚öîÔ∏è</div>
                    <div class="bg-[#073B4C] text-white p-3 rounded-lg text-center">
                        <span class="text-xl font-bold">EL PROBLEMA</span>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 md:col-span-2">
                    <h3 class="text-2xl font-bold text-[#118AB2] mb-3 text-center">Paso 2: Descubrir los Intereses detr√°s de la Posici√≥n</h3>
                    <p class="text-center mb-4 max-w-3xl mx-auto">Harrison le pregunta a Leo por qu√© siente que la clase es una p√©rdida de tiempo. Tras una conversaci√≥n calmada, Leo revela sus verdaderos intereses: no entiende el material, siente verg√ºenza de preguntar frente a sus amigos y teme reprobar, lo que podr√≠a llevar a que lo saquen del equipo de f√∫tbol.</p>
                    <div class="chart-container">
                        <canvas id="interesesChart"></canvas>
                    </div>
                    <p class="text-center text-sm mt-2 text-gray-600">El gr√°fico ilustra c√≥mo la "posici√≥n" (el grito en clase) es solo la punta del iceberg, impulsada por intereses m√°s profundos y complejos.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-2xl font-bold text-[#118AB2] mb-3">Paso 3: Generar Opciones de Mutuo Beneficio</h3>
                    <p class="mb-4">Juntos, hacen una lluvia de ideas. El inter√©s de Harrison es un ambiente de aprendizaje respetuoso y el √©xito de sus alumnos. El inter√©s de Leo es entender, aprobar y permanecer en el equipo. Consideran varias opciones sin juzgarlas inicialmente.</p>
                    <div class="chart-container h-auto md:h-96">
                        <canvas id="opcionesChart"></canvas>
                    </div>
                     <p class="text-center text-sm mt-2 text-gray-600">Comparan el impacto potencial de cada soluci√≥n en los intereses clave de ambas partes.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                     <h3 class="text-2xl font-bold text-[#118AB2] mb-3">Paso 4: Usar Criterios Objetivos</h3>
                     <p class="mb-4">Deciden combinar las opciones m√°s prometedoras bas√°ndose en criterios justos: las reglas de la escuela, el programa de estudios y el sistema de tutor√≠as existente.</p>
                    <div class="relative">
                        <div class="timeline-item">
                            <div class="timeline-marker"></div>
                            <h4 class="font-bold">Acuerdo de Comportamiento</h4>
                            <p class="text-sm">Acuerdan una se√±al no verbal discreta para cuando Leo se sienta perdido, evitando interrupciones p√∫blicas (Criterio: Reglas del aula).</p>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker"></div>
                            <h4 class="font-bold">Plan de Apoyo Acad√©mico</h4>
                            <p class="text-sm">Leo asistir√° a tutor√≠as dos veces por semana y el profesor le dar√° material de apoyo simplificado (Criterio: Programa de tutor√≠as de la escuela).</p>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker"></div>
                            <h4 class="font-bold">Seguimiento Semanal</h4>
                            <p class="text-sm">Breves reuniones de 5 minutos los viernes para revisar el progreso, ajustar el plan y asegurar que ambos cumplen su parte (Criterio: Plan de evaluaci√≥n continua).</p>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <section id="resultados" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8">El Resultado: Un Cambio Positivo</h2>
            <p class="text-center mb-6 max-w-3xl mx-auto">Al aplicar el m√©todo, no solo se resolvi√≥ el conflicto inmediato, sino que se transform√≥ la relaci√≥n. Leo se sinti√≥ escuchado y apoyado, mientras que el profesor Harrison mantuvo la autoridad y foment√≥ un ambiente de aprendizaje m√°s inclusivo. Los resultados medibles demuestran el √©xito del enfoque.</p>
            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="chart-container md:max-w-4xl mx-auto h-auto md:h-[400px]">
                    <canvas id="resultadosChart"></canvas>
                </div>
                 <p class="text-center text-sm mt-4 text-gray-600">Este gr√°fico compara las m√©tricas clave del aula antes y despu√©s de la intervenci√≥n, mostrando una mejora significativa en el comportamiento, la participaci√≥n y el rendimiento.</p>
            </div>
        </section>

        <section id="podcast" class="bg-white rounded-lg shadow-md p-6 mb-12 text-center">
            <h2 class="text-3xl font-bold text-[#073B4C] mb-4">Podcast: El M√©todo en Acci√≥n</h2>
            <p class="text-lg mb-4 max-w-3xl mx-auto">
                Escucha el podcast sobre negociaci√≥n en el aula utilizando el M√©todo Harvard.
            </p>
            
            <div id="player-container" class="max-w-xl mx-auto mt-4 p-4 border rounded-lg bg-gray-50">
                <!-- CAMBIO: El audio ahora apunta al enlace de descarga directa de Google Drive. -->
                <audio id="podcast-audio" src="https://drive.google.com/uc?export=download&id=1D07AwvB3TOLXRcm9KAGqn8eKnB736Hq8"></audio>
                
                <div class="flex items-center space-x-4">
                    <button id="play-pause-btn" class="bg-[#118AB2] text-white rounded-full w-12 h-12 flex items-center justify-center text-2xl transition-transform hover:scale-110">
                        <svg id="play-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.286L7.279 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" />
                        </svg>
                        <svg id="pause-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M5.75 4.5a.75.75 0 0 0-.75.75v10.5a.75.75 0 0 0 1.5 0V5.25a.75.75 0 0 0-.75-.75zm8.5 0a.75.75 0 0 0-.75.75v10.5a.75.75 0 0 0 1.5 0V5.25a.75.75 0 0 0-.75-.75z"></path></svg>
                    </button>
                    <div class="w-full">
                        <input type="range" id="progress-bar" value="0" class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer">
                        <div class="flex justify-between text-xs text-gray-500 mt-1">
                            <span id="current-time">0:00</span>
                            <span id="duration">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <p class="text-sm text-gray-500 mt-3 italic">Usa los controles para reproducir el episodio.</p>
        </section>

        <footer class="bg-[#073B4C] text-white rounded-lg shadow-md p-6 mt-12">
            <h3 class="text-2xl font-bold text-center mb-4 text-[#FFD166]">Referencias</h3>
            <div class="text-sm text-center space-y-2 mb-6">
                <p>Fisher, R., Ury, W. L., & Patton, B. (2011). <i>Getting to yes: Negotiating agreement without giving in</i>. Penguin Books.</p>
                <p>Formaci√≥n y Estudios. (2020, 15 de mayo). <i>M√©todo Harvard de Negociaci√≥n (Explicado)</i> [Video]. YouTube. https://www.youtube.com/watch?v=IDj1OBG5Tpw</p>
                <p>Google. (2024). <i>Gemini</i> [Large language model]. https://gemini.google.com</p>
                <p>Program on Negotiation at Harvard Law School. (s.f.). <i>Principled negotiation: Focus on interests to create value</i>. PON - Program on Negotiation at Harvard Law School. Recuperado el 21 de julio de 2025, de https://www.pon.harvard.edu/daily/negotiation-skills-daily/principled-negotiation-focus-interests-create-value/</p>
            </div>
            <div class="border-t border-gray-500 pt-4 mt-4">
                <h4 class="text-lg font-bold text-center text-[#FFD166] mb-2">Declaraci√≥n de Uso</h4>
                <p class="text-xs text-center italic text-gray-300">
                    Este recurso infogr√°fico fue elaborado por Jes√∫s √Ångel √Ålvarez Gonz√°lez. Se utiliz√≥ asistencia de inteligencia artificial para la s√≠ntesis de informaci√≥n, creaci√≥n del podcast y el dise√±o visual, a partir de un an√°lisis de literatura propio y las fuentes citadas. Su prop√≥sito es estrictamente educativo.
                </p>
            </div>
        </footer>

    </main>

<script>
    // --- GR√ÅFICAS (sin cambios) ---
    const tooltipTitleCallback = (tooltipItems) => {
        const item = tooltipItems[0];
        let label = item.chart.data.labels[item.dataIndex];
        if (Array.isArray(label)) {
            return label.join(' ');
        }
        return label;
    };
    const commonTooltipConfig = {
        plugins: {
            tooltip: {
                callbacks: {
                    title: tooltipTitleCallback
                },
                backgroundColor: '#073B4C',
                titleColor: '#FFFFFF',
                bodyColor: '#FFFFFF',
                padding: 10,
                titleFont: { weight: 'bold' },
                bodyFont: { size: 12 }
            }
        }
    };
    function wrapLabels(label, maxLength) {
        if (typeof label !== 'string' || label.length <= maxLength) {
            return label;
        }
        const words = label.split(' ');
        const lines = [];
        let currentLine = '';
        words.forEach(word => {
            if ((currentLine + word).length > maxLength && currentLine.length > 0) {
                lines.push(currentLine.trim());
                currentLine = '';
            }
            currentLine += word + ' ';
        });
        lines.push(currentLine.trim());
        return lines;
    }
    const interesesData = {
        labels: ['Miedo a reprobar', 'Verg√ºenza de preguntar', 'Presi√≥n del equipo deportivo', 'Frustraci√≥n con el material'],
        datasets: [{
            label: 'Intereses Ocultos de Leo',
            data: [45, 25, 20, 10],
            backgroundColor: ['#FF6B6B', '#FFD166', '#06D6A0', '#118AB2'],
            borderColor: '#F7F9FB',
            borderWidth: 3
        }]
    };
    const interesesCtx = document.getElementById('interesesChart').getContext('2d');
    new Chart(interesesCtx, {
        type: 'doughnut',
        data: interesesData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                ...commonTooltipConfig.plugins,
                legend: {
                    position: 'top',
                    labels: { color: '#073B4C' }
                }
            }
        }
    });
    const opcionesLabels = [
        'Ignorar el problema', 
        'Castigo inmediato', 
        'Tutor√≠as privadas', 
        ['Plan de estudio', 'personalizado'],
        ['Comunicaci√≥n', 'discreta en clase']
    ].map(l => Array.isArray(l) ? l : wrapLabels(l, 16));
    const opcionesData = {
        labels: opcionesLabels,
        datasets: [{
            label: 'Beneficio para el Estudiante',
            data: [1, 2, 8, 9, 7],
            backgroundColor: '#06D6A0',
        }, {
            label: 'Beneficio para el Profesor',
            data: [1, 4, 7, 8, 9],
            backgroundColor: '#118AB2',
        }]
    };
    const opcionesCtx = document.getElementById('opcionesChart').getContext('2d');
    new Chart(opcionesCtx, {
        type: 'bar',
        data: opcionesData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            ...commonTooltipConfig,
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: { color: '#073B4C' },
                    grid: { color: '#e0e0e0' }
                },
                x: {
                    ticks: { color: '#073B4C' },
                    grid: { display: false }
                }
            },
            plugins: {
                ...commonTooltipConfig.plugins,
                legend: {
                    position: 'top',
                    labels: { color: '#073B4C' }
                },
                title: {
                    display: true,
                    text: 'Evaluaci√≥n de Opciones de Mutuo Beneficio',
                    color: '#073B4C',
                    font: { size: 16 }
                }
            }
        }
    });
    const resultadosData = {
        labels: ['Interrupciones en Clase', 'Entrega de Tareas', 'Calificaci√≥n Promedio', 'Participaci√≥n Positiva'],
        datasets: [{
            label: 'Antes de la Negociaci√≥n',
            data: [8, 3, 55, 2],
            backgroundColor: '#FF6B6B',
            borderColor: '#C45151',
            borderWidth: 1
        }, {
            label: 'Despu√©s de la Negociaci√≥n',
            data: [1, 9, 80, 8],
            backgroundColor: '#06D6A0',
            borderColor: '#05A27A',
            borderWidth: 1
        }]
    };
    const resultadosCtx = document.getElementById('resultadosChart').getContext('2d');
    new Chart(resultadosCtx, {
        type: 'bar',
        data: resultadosData,
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            ...commonTooltipConfig,
            scales: {
                x: {
                    beginAtZero: true,
                    ticks: { color: '#073B4C' },
                    grid: { color: '#e0e0e0' }
                },
                y: {
                    ticks: { color: '#073B4C' },
                    grid: { display: false }
                }
            },
            plugins: {
                ...commonTooltipConfig.plugins,
                legend: {
                    position: 'top',
                    labels: { color: '#073B4C' }
                }
            }
        }
    });

    // --- L√ìGICA DEL REPRODUCTOR DE AUDIO PERSONALIZADO ---
    document.addEventListener('DOMContentLoaded', () => {
        const audio = document.getElementById('podcast-audio');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const playerContainer = document.getElementById('player-container');

        // Funci√≥n para dar formato al tiempo de segundos a MM:SS
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Actualizar el bot√≥n de Play/Pausa
        function updatePlayPauseIcon() {
            if (!audio || audio.paused) {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            } else {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            }
        }

        // Evento para el bot√≥n de Play/Pausa
        playPauseBtn.addEventListener('click', () => {
            if (audio.paused) {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.error("Error al intentar reproducir:", error);
                        playerContainer.innerHTML = `
                            <div class="text-red-600 bg-red-100 border border-red-400 rounded p-4">
                                <p class="font-bold">Error al reproducir</p>
                                <p class="text-sm">No se pudo iniciar la reproducci√≥n. Google Drive puede estar bloqueando el acceso. Intenta usar un archivo local.</p>
                            </div>
                        `;
                    });
                }
            } else {
                audio.pause();
            }
            updatePlayPauseIcon();
        });

        // Actualizar la barra de progreso y el tiempo actual
        audio.addEventListener('timeupdate', () => {
            const progress = (audio.currentTime / audio.duration) * 100;
            progressBar.value = progress || 0;
            currentTimeEl.textContent = formatTime(audio.currentTime);
        });

        // Permitir que el usuario se desplace por el audio con la barra
        progressBar.addEventListener('input', () => {
            const seekTime = (progressBar.value / 100) * audio.duration;
            audio.currentTime = seekTime;
        });

        // Cuando el audio se carga, obtener la duraci√≥n total
        audio.addEventListener('loadedmetadata', () => {
            durationEl.textContent = formatTime(audio.duration);
        });
        
        // Si el audio termina, reiniciar el √≠cono a 'Play'
        audio.addEventListener('ended', () => {
            updatePlayPauseIcon();
            progressBar.value = 0;
            audio.currentTime = 0;
        });
        
        // Manejo de errores de carga del audio
        audio.addEventListener('error', () => {
            playerContainer.innerHTML = `
                <div class="text-red-600 bg-red-100 border border-red-400 rounded p-4">
                    <p class="font-bold">Error al cargar el audio</p>
                    <p class="text-sm">No se pudo cargar el audio desde Google Drive. Esto suele ocurrir por las restricciones de seguridad de Google. Se recomienda usar un archivo local.</p>
                </div>
            `;
        });
    });

</script>
</body>
</html>
